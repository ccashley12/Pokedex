!function(){let e=[];function t(){return e}function a(e){let t=document.querySelector(".pokemon-list");t.innerHTML="",e.forEach(e=>{let a=document.createElement("li");a.classList.add("list-group-item"),a.innerText=e.name,a.addEventListener("click",()=>{(function e(t){n(t).then(()=>{!function e(t){let a=$(".modal-body"),i=$(".modal-title");a.empty(),i.empty();let n=$(`<h1>${t.name}</h1>`),l=$(`<img class="modal-img" src="${t.imageUrlFront}">`),o=$(`<img class="modal-img" src="${t.imageUrlBack}">`),p=$(`<p>Height : ${t.height}</p>`),r=$(`<p>Types : ${t.types}</p>`),s=$(`<p>Abilities : ${t.abilities}</p>`);i.append(n),a.append(l),a.append(o),a.append(p),a.append(r),a.append(s)}(t)})})(e),$("#exampleModal").modal("show")}),t.appendChild(a)})}async function i(){try{let t=await fetch("https://pokeapi.co/api/v2/pokemon/?limit=150"),a=await t.json();a.results.forEach(function(t){var a;let i={name:t.name,detailsUrl:t.url,height:t.height,type:t.types};a=i,"object"==typeof a&&"name"in a?e.push(a):console.log("pokemon is not correct"),console.log(i)})}catch(i){console.error(i)}}async function n(e){let t=e.detailsUrl;try{let a=await fetch(t),i=await a.json();e.imageUrlFront=i.sprites.front_default,e.imageUrlBack=i.sprites.back_default,e.height=i.height,e.types=i.types.map(e=>e.type.name),e.abilities=i.abilities.map(e=>e.ability.name)}catch(n){console.error(n)}}$("#exampleModal").on("hidden.bs.modal",function(e){let t=$(".modal-body"),a=$(".modal-title");t.empty(),a.empty()}),i().then(()=>{a(e)}),document.getElementById("search-bar").addEventListener("input",t=>{let i=t.target.value.toLowerCase(),n=e.filter(e=>e.name.toLowerCase().includes(i));a(n)})}();